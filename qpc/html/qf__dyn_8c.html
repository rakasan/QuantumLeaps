<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QP/C: qf_dyn.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
  <a id="logo" title="Quantum Leaps: Modern Embedded Software" href="https://www.state-machine.com">
    <img src="img/logo_ql.png" alt="Quantum Leaps" style="vertical-align:top; border:none;">
  </a>
  <span id="projectname">QP/C</span>
  <span id="projectnumber">6.9.1</span>
           <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)"
               onblur="searchBox.OnSearchFieldFocus(false)"
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;"
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('qf__dyn_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0"
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">qf_dyn.c File Reference<div class="ingroups"><a class="el" href="group__qf.html">QF</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>QF/C dynamic event management.
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;qf_port.h&quot;</code><br />
<code>#include &quot;<a class="el" href="qf__pkg_8h_source.html">qf_pkg.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="qassert_8h_source.html">qassert.h</a>&quot;</code><br />
<code>#include &quot;qs_port.h&quot;</code><br />
<code>#include &quot;<a class="el" href="qs__pkg_8h_source.html">qs_pkg.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for qf_dyn.c:</div>
<div class="dyncontent">
<div class="center"><img src="qf__dyn_8c__incl.png" border="0" usemap="#aqf__dyn_8c" alt=""/></div>
</div>
</div>
<p><a href="qf__dyn_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1c4fc5636c2bc2e9d47e958aac05b8e1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qf__dyn_8c.html#a1c4fc5636c2bc2e9d47e958aac05b8e1">QF_poolInit</a> (void *const poolSto, <a class="el" href="16bit_2stdint_8h.html#aeb3ae59c7d101507a3952f5de306ea95">uint_fast32_t</a> const poolSize, <a class="el" href="16bit_2stdint_8h.html#a226d967fb6d06433caf43f20dc876aae">uint_fast16_t</a> const evtSize)</td></tr>
<tr class="memdesc:a1c4fc5636c2bc2e9d47e958aac05b8e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Event pool initialization for dynamic allocation of events.  <a href="qf__dyn_8c.html#a1c4fc5636c2bc2e9d47e958aac05b8e1">More...</a><br /></td></tr>
<tr class="separator:a1c4fc5636c2bc2e9d47e958aac05b8e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c49ff8c7895ca20958de54583a4e9cd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_q_evt.html">QEvt</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qf__dyn_8c.html#a1c49ff8c7895ca20958de54583a4e9cd">QF_newX_</a> (<a class="el" href="16bit_2stdint_8h.html#a226d967fb6d06433caf43f20dc876aae">uint_fast16_t</a> const evtSize, <a class="el" href="16bit_2stdint_8h.html#a226d967fb6d06433caf43f20dc876aae">uint_fast16_t</a> const margin, <a class="el" href="qep_8h.html#ad11e2d4dff3c15b0b5f9a13a47c7fb1a">enum_t</a> const sig)</td></tr>
<tr class="memdesc:a1c49ff8c7895ca20958de54583a4e9cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal QF implementation of creating new dynamic event.  <a href="qf__dyn_8c.html#a1c49ff8c7895ca20958de54583a4e9cd">More...</a><br /></td></tr>
<tr class="separator:a1c49ff8c7895ca20958de54583a4e9cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7aa4e9d39b8af089405cb829e2cc5a24"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qf__dyn_8c.html#a7aa4e9d39b8af089405cb829e2cc5a24">QF_gc</a> (<a class="el" href="struct_q_evt.html">QEvt</a> const *const e)</td></tr>
<tr class="memdesc:a7aa4e9d39b8af089405cb829e2cc5a24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recycle a dynamic event.  <a href="qf__dyn_8c.html#a7aa4e9d39b8af089405cb829e2cc5a24">More...</a><br /></td></tr>
<tr class="separator:a7aa4e9d39b8af089405cb829e2cc5a24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c87ff6aaac16a7327a7437c4e72be24"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_q_evt.html">QEvt</a> const  *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qf__dyn_8c.html#a4c87ff6aaac16a7327a7437c4e72be24">QF_newRef_</a> (<a class="el" href="struct_q_evt.html">QEvt</a> const *const e, void const *const evtRef)</td></tr>
<tr class="memdesc:a4c87ff6aaac16a7327a7437c4e72be24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal QF implementation of creating new event reference.  <a href="qf__dyn_8c.html#a4c87ff6aaac16a7327a7437c4e72be24">More...</a><br /></td></tr>
<tr class="separator:a4c87ff6aaac16a7327a7437c4e72be24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebb373ddc448c4198e4247b6c6ff3e69"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qf__dyn_8c.html#aebb373ddc448c4198e4247b6c6ff3e69">QF_deleteRef_</a> (void const *const evtRef)</td></tr>
<tr class="memdesc:aebb373ddc448c4198e4247b6c6ff3e69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal QF implementation of deleting event reference.  <a href="qf__dyn_8c.html#aebb373ddc448c4198e4247b6c6ff3e69">More...</a><br /></td></tr>
<tr class="separator:aebb373ddc448c4198e4247b6c6ff3e69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c89d3e5e55aeeec9175ec95635476ce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="16bit_2stdint_8h.html#a226d967fb6d06433caf43f20dc876aae">uint_fast16_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qf__dyn_8c.html#a7c89d3e5e55aeeec9175ec95635476ce">QF_poolGetMaxBlockSize</a> (void)</td></tr>
<tr class="memdesc:a7c89d3e5e55aeeec9175ec95635476ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtain the block size of any registered event pools.  <a href="qf__dyn_8c.html#a7c89d3e5e55aeeec9175ec95635476ce">More...</a><br /></td></tr>
<tr class="separator:a7c89d3e5e55aeeec9175ec95635476ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:af61aa7f60a48a1353b96687654978672"><td class="memItemLeft" align="right" valign="top"><a class="el" href="qxk_8h.html#ab786be96ee118929bfb4dcd51d3acce5">QF_EPOOL_TYPE_</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qf__dyn_8c.html#af61aa7f60a48a1353b96687654978672">QF_pool_</a> [<a class="el" href="qxk_2qf__port_8h.html#ae2e7347d1d59f5a0410bbf92e9f141f3">QF_MAX_EPOOL</a>]</td></tr>
<tr class="memdesc:af61aa7f60a48a1353b96687654978672"><td class="mdescLeft">&#160;</td><td class="mdescRight">allocate event pools  <a href="qf__dyn_8c.html#af61aa7f60a48a1353b96687654978672">More...</a><br /></td></tr>
<tr class="separator:af61aa7f60a48a1353b96687654978672"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0aa30d4ef8cf83a94712bf61c36ea6a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="16bit_2stdint_8h.html#ad0906fbe05a45fbdb000c58fe8929e70">uint_fast8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="qf__dyn_8c.html#ab0aa30d4ef8cf83a94712bf61c36ea6a">QF_maxPool_</a></td></tr>
<tr class="separator:ab0aa30d4ef8cf83a94712bf61c36ea6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>QF/C dynamic event management. </p>

<p class="definition">Definition in file <a class="el" href="qf__dyn_8c_source.html">qf_dyn.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a1c4fc5636c2bc2e9d47e958aac05b8e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c4fc5636c2bc2e9d47e958aac05b8e1">&#9670;&nbsp;</a></span>QF_poolInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QF_poolInit </td>
          <td>(</td>
          <td class="paramtype">void *const&#160;</td>
          <td class="paramname"><em>poolSto</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="16bit_2stdint_8h.html#aeb3ae59c7d101507a3952f5de306ea95">uint_fast32_t</a> const&#160;</td>
          <td class="paramname"><em>poolSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="16bit_2stdint_8h.html#a226d967fb6d06433caf43f20dc876aae">uint_fast16_t</a> const&#160;</td>
          <td class="paramname"><em>evtSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Event pool initialization for dynamic allocation of events. </p>
<dl class="section user"><dt>Description</dt><dd>This function initializes one event pool at a time and must be called exactly once for each event pool before the pool can be used.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">poolSto</td><td>pointer to the storage for the event pool </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">poolSize</td><td>size of the storage for the pool in bytes </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">evtSize</td><td>the block-size of the pool in bytes, which determines the maximum size of events that can be allocated from the pool.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section attention"><dt>Attention</dt><dd>You might initialize many event pools by making many consecutive calls to the <a class="el" href="qf__dyn_8c.html#a1c4fc5636c2bc2e9d47e958aac05b8e1" title="Event pool initialization for dynamic allocation of events.">QF_poolInit()</a> function. However, for the simplicity of the internal implementation, you must initialize event pools in the <b>ascending order</b> of the event size.</dd></dl>
<p>Many RTOSes provide fixed block-size heaps, a.k.a. memory pools that can be adapted for QF event pools. In case such support is missing, QF provides a native QF event pool implementation. The macro <a class="el" href="qxk_8h.html#ab786be96ee118929bfb4dcd51d3acce5">QF_EPOOL_TYPE_</a> determines the type of event pool used by a particular QF port. See structure <a class="el" href="qmpool_8h.html#struct_q_m_pool" title="Native QF Memory Pool.">QMPool</a> for more information.</p>
<dl class="section note"><dt>Note</dt><dd>The actual number of events available in the pool might be actually less than (<code>poolSize</code> / <code>evtSize</code>) due to the internal alignment of the blocks that the pool might perform. You can always check the capacity of the pool by calling <a class="el" href="qf_8h.html#ae52d81b1bd2cab6523fbe13cb5d79190" title="Obtain the minimum of free entries of the given event pool.">QF_getPoolMin()</a>.</dd>
<dd>
The dynamic allocation of events is optional, meaning that you might choose not to use dynamic events. In that case calling <a class="el" href="qf__dyn_8c.html#a1c4fc5636c2bc2e9d47e958aac05b8e1" title="Event pool initialization for dynamic allocation of events.">QF_poolInit()</a> and using up memory for the memory blocks is unnecessary.</dd></dl>
<dl class="section see"><dt>See also</dt><dd>QF initialization example for <a class="el" href="qf_8h.html#adac7eccb860d910c4e446d3143798bba" title="QF initialization.">QF_init()</a> </dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>cannot exceed the number of available memory pools</dd>
<dd>
please initialize event pools in ascending order of evtSize:</dd></dl>

<p class="definition">Definition at line <a class="el" href="qf__dyn_8c_source.html#l00113">113</a> of file <a class="el" href="qf__dyn_8c_source.html">qf_dyn.c</a>.</p>

</div>
</div>
<a id="a1c49ff8c7895ca20958de54583a4e9cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c49ff8c7895ca20958de54583a4e9cd">&#9670;&nbsp;</a></span>QF_newX_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_q_evt.html">QEvt</a>* QF_newX_ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="16bit_2stdint_8h.html#a226d967fb6d06433caf43f20dc876aae">uint_fast16_t</a> const&#160;</td>
          <td class="paramname"><em>evtSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="16bit_2stdint_8h.html#a226d967fb6d06433caf43f20dc876aae">uint_fast16_t</a> const&#160;</td>
          <td class="paramname"><em>margin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qep_8h.html#ad11e2d4dff3c15b0b5f9a13a47c7fb1a">enum_t</a> const&#160;</td>
          <td class="paramname"><em>sig</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Internal QF implementation of creating new dynamic event. </p>
<dl class="section user"><dt>Description</dt><dd>Allocates an event dynamically from one of the QF event pools.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">evtSize</td><td>the size (in bytes) of the event to allocate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">margin</td><td>the number of un-allocated events still available in a given event pool after the allocation completes. The special value <a class="el" href="qf_8h.html#a3c1957439cb1ecff92be7b7401bf3159" title="special value of margin that causes asserting failure in case event allocation or event posting fails">QF_NO_MARGIN</a> means that this function will assert if allocation fails. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sig</td><td>the signal to be assigned to the allocated event</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to the newly allocated event. This pointer can be NULL only if margin != <a class="el" href="qf_8h.html#a3c1957439cb1ecff92be7b7401bf3159" title="special value of margin that causes asserting failure in case event allocation or event posting fails">QF_NO_MARGIN</a> and the event cannot be allocated with the specified margin still available in the given pool.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The internal QF function <a class="el" href="qf__dyn_8c.html#a1c49ff8c7895ca20958de54583a4e9cd" title="Internal QF implementation of creating new dynamic event.">QF_newX_()</a> raises an assertion when the <code>margin</code> parameter is <a class="el" href="qf_8h.html#a3c1957439cb1ecff92be7b7401bf3159" title="special value of margin that causes asserting failure in case event allocation or event posting fails">QF_NO_MARGIN</a> and allocation of the event turns out to be impossible due to event pool depletion, or incorrect (too big) size of the requested event.</dd>
<dd>
The application code should not call this function directly. The only allowed use is thorough the macros <a class="el" href="qf_8h.html#abd823f3a9e8b3206a3460a108d5fa3e3" title="Allocate a dynamic event.">Q_NEW()</a> or <a class="el" href="qf_8h.html#aa52b4d3c43a262022392c6e11be06436" title="Allocate a dynamic event (non-asserting version).">Q_NEW_X()</a>. </dd></dl>

<p class="definition">Definition at line <a class="el" href="qf__dyn_8c_source.html#l00164">164</a> of file <a class="el" href="qf__dyn_8c_source.html">qf_dyn.c</a>.</p>

</div>
</div>
<a id="a7aa4e9d39b8af089405cb829e2cc5a24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7aa4e9d39b8af089405cb829e2cc5a24">&#9670;&nbsp;</a></span>QF_gc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QF_gc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_q_evt.html">QEvt</a> const *const&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Recycle a dynamic event. </p>
<dl class="section user"><dt>Description</dt><dd>This function implements a simple garbage collector for the dynamic events. Only dynamic events are candidates for recycling. (A dynamic event is one that is allocated from an event pool, which is determined as non-zero e-&gt;poolId_ attribute.) Next, the function decrements the reference counter of the event (e-&gt;refCtr_), and recycles the event only if the counter drops to zero (meaning that no more references are outstanding for this event). The dynamic event is recycled by returning it to the pool from which it was originally allocated.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">e</td><td>pointer to the event to recycle</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>QF invokes the garbage collector at all appropriate contexts, when an event can become garbage (automatic garbage collection), so the application code should have no need to call <a class="el" href="qf__dyn_8c.html#a7aa4e9d39b8af089405cb829e2cc5a24" title="Recycle a dynamic event.">QF_gc()</a> directly. The <a class="el" href="qf__dyn_8c.html#a7aa4e9d39b8af089405cb829e2cc5a24" title="Recycle a dynamic event.">QF_gc()</a> function is exposed only for special cases when your application sends dynamic events to the "raw" thread-safe queues (see <a class="el" href="qequeue_8h.html#struct_q_e_queue" title="Native QF Event Queue.">QEQueue</a>). Such queues are processed outside of QF and the automatic garbage collection is <b>NOT</b> performed for these events. In this case you need to call <a class="el" href="qf__dyn_8c.html#a7aa4e9d39b8af089405cb829e2cc5a24" title="Recycle a dynamic event.">QF_gc()</a> explicitly. </dd></dl>

<p class="definition">Definition at line <a class="el" href="qf__dyn_8c_source.html#l00240">240</a> of file <a class="el" href="qf__dyn_8c_source.html">qf_dyn.c</a>.</p>

</div>
</div>
<a id="a4c87ff6aaac16a7327a7437c4e72be24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c87ff6aaac16a7327a7437c4e72be24">&#9670;&nbsp;</a></span>QF_newRef_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_q_evt.html">QEvt</a> const* QF_newRef_ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_q_evt.html">QEvt</a> const *const&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void const *const&#160;</td>
          <td class="paramname"><em>evtRef</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Internal QF implementation of creating new event reference. </p>
<dl class="section user"><dt>Description</dt><dd>Creates and returns a new reference to the current event e</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">e</td><td>pointer to the current event </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">evtRef</td><td>the event reference</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the newly created reference to the event <code>e</code></dd></dl>
<dl class="section note"><dt>Note</dt><dd>The application code should not call this function directly. The only allowed use is thorough the macro <a class="el" href="qf_8h.html#a10162978b156ab5d2fd2e3a7aa744ac0" title="Create a new reference of the current event e">Q_NEW_REF()</a>. </dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>the event must be dynamic and the provided event reference must not be already in use</dd></dl>

<p class="definition">Definition at line <a class="el" href="qf__dyn_8c_source.html#l00303">303</a> of file <a class="el" href="qf__dyn_8c_source.html">qf_dyn.c</a>.</p>

</div>
</div>
<a id="aebb373ddc448c4198e4247b6c6ff3e69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebb373ddc448c4198e4247b6c6ff3e69">&#9670;&nbsp;</a></span>QF_deleteRef_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QF_deleteRef_ </td>
          <td>(</td>
          <td class="paramtype">void const *const&#160;</td>
          <td class="paramname"><em>evtRef</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Internal QF implementation of deleting event reference. </p>
<dl class="section user"><dt>Description</dt><dd>Deletes an existing reference to the event e</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">evtRef</td><td>the event reference</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The application code should not call this function directly. The only allowed use is thorough the macro <a class="el" href="qf_8h.html#aaed009a86c52cf2b8d811389fabb5f23" title="Delete the event reference.">Q_DELETE_REF()</a>. </dd></dl>

<p class="definition">Definition at line <a class="el" href="qf__dyn_8c_source.html#l00338">338</a> of file <a class="el" href="qf__dyn_8c_source.html">qf_dyn.c</a>.</p>

</div>
</div>
<a id="a7c89d3e5e55aeeec9175ec95635476ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c89d3e5e55aeeec9175ec95635476ce">&#9670;&nbsp;</a></span>QF_poolGetMaxBlockSize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="16bit_2stdint_8h.html#a226d967fb6d06433caf43f20dc876aae">uint_fast16_t</a> QF_poolGetMaxBlockSize </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtain the block size of any registered event pools. </p>
<dl class="section user"><dt>Description</dt><dd>Obtain the block size of any registered event pools </dd></dl>

<p class="definition">Definition at line <a class="el" href="qf__dyn_8c_source.html#l00357">357</a> of file <a class="el" href="qf__dyn_8c_source.html">qf_dyn.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="af61aa7f60a48a1353b96687654978672"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af61aa7f60a48a1353b96687654978672">&#9670;&nbsp;</a></span>QF_pool_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="qxk_8h.html#ab786be96ee118929bfb4dcd51d3acce5">QF_EPOOL_TYPE_</a> QF_pool_[<a class="el" href="qxk_2qf__port_8h.html#ae2e7347d1d59f5a0410bbf92e9f141f3">QF_MAX_EPOOL</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>allocate event pools </p>

<p class="definition">Definition at line <a class="el" href="qf__dyn_8c_source.html#l00055">55</a> of file <a class="el" href="qf__dyn_8c_source.html">qf_dyn.c</a>.</p>

</div>
</div>
<a id="ab0aa30d4ef8cf83a94712bf61c36ea6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0aa30d4ef8cf83a94712bf61c36ea6a">&#9670;&nbsp;</a></span>QF_maxPool_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="16bit_2stdint_8h.html#ad0906fbe05a45fbdb000c58fe8929e70">uint_fast8_t</a> QF_maxPool_</td>
        </tr>
      </table>
</div><div class="memdoc">
<h1><a class="anchor" id="autotoc_md0"></a>
of initialized event pools</h1>

<p class="definition">Definition at line <a class="el" href="qf__dyn_8c_source.html#l00056">56</a> of file <a class="el" href="qf__dyn_8c_source.html">qf_dyn.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
    <div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
      <ul>
        <li class="navelem"><a class="el" href="dir_28a04cc6444cdd1b436423abf3214ac3.html">src</a></li><li class="navelem"><a class="el" href="dir_023a0acd75d733ac8b46de46495bcccd.html">qf</a></li><li class="navelem"><a class="el" href="qf__dyn_8c.html">qf_dyn.c</a></li>
        <li class="footer">
<a title="Quantum Leaps: Modern Embedded Software" href="https://www.state-machine.com">&copy; Quantum Leaps 2020</a> &nbsp;| &nbsp; <a title="help" href="help.html">Using Online Help</a>&nbsp;| &nbsp;<a title="Doxygen" href="http://www.doxygen.nl">Generated with Doxygen</a>&nbsp; | &nbsp;<b>QP/C 6.9.1</b>
<hr class="footer"/><address class="footer"><small>
<a title="Quantum Leaps: Modern Embedded Software" href="https://www.state-machine.com">&copy; Quantum Leaps 2020</a> &nbsp;| &nbsp; <a title="help" href="help.html">Using Online Help</a>&nbsp;| &nbsp;<a title="Doxygen" href="http://www.doxygen.nl">Generated with Doxygen</a>&nbsp; | &nbsp;<b>QP/C 6.9.1</b>
</small></address>
        </li>
      </ul>
    </div>
    <script src="custom.js"></script>
  </body>
</html>
